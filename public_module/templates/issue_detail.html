{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Journal Page - CUJH</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Template Main CSS File -->
  <link href="{% static 'css/public-style.css' %}" rel="stylesheet">

  <!-- Include jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

  <!-- Favicons -->
  <link href="{% static 'img/favicon.png' %}" rel="icon">
  <link href="{% static 'img/apple-touch-icon.png' %}" rel="apple-touch-icon">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.0.1/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{% static 'vendor/animate.css/animate.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/aos/aos.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/remixicon/remixicon.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">

  <style>
    body {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      margin: 0;
      font-family: Arial, sans-serif;
    }

    main {
      flex: 1;
      padding: 20px;
    }

    #footer {
      background: #222;
      color: #fff;
      text-align: center;
      padding: 20px 0;
      margin-top: auto;
    }

    #footer .container {
      max-width: 1200px;
      margin: auto;
    }

    #footer h3 {
      font-size: 1.8em;
      margin-bottom: 10px;
    }

    #footer p {
      font-size: 1em;
      margin-bottom: 20px;
    }

    .social-links {
      margin: 20px 0;
    }

    .social-links a {
      font-size: 1.2em;
      color: #fff;
      margin: 0 10px;
      text-decoration: none;
    }

    .social-links a:hover {
      color: #007bff;
    }

    .copyright {
      font-size: 0.9em;
      margin-top: 10px;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }

    .section-title {
      text-align: center;
      margin-bottom: 40px;
    }

    .chapter-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
      transition: transform 0.3s ease, background-color 0.3s ease;
      position: relative;
      text-decoration: none;
      color: inherit;
      background-color: #f5f5f5;
      border-left: 6px solid #007bff;
    }

    .chapter-info {
      flex: 1;
    }

    .chapter-title {
      font-size: 20px;
      font-weight: bold;
      color: #333;
      margin-bottom: 5px;
    }

    .chapter-authors {
      font-size: 16px;
      font-style: italic;
      color: #777;
    }

    .chapter-status {
      display: flex;
      align-items: center;
    }

    .btn-group {
      display: flex;
    }

    .btn {
      margin-left: 10px;
    }

    .btn-primary {
      background-color: #007bff;
      border: none;
      transition: background-color 0.3s ease;
    }

    .btn-primary:hover {
      background-color: #0056b3;
    }

    .btn-secondary {
      background-color: #6c757d;
      border: none;
      transition: background-color 0.3s ease;
    }

    .btn-secondary:hover {
      background-color: #5a6268;
    }

    .stats {
      margin-left: 20px; /* Adjust spacing between buttons and stats */
      display: flex;
      align-items: center;
    }

    .stats i {
      margin-right: 5px;
    }


  </style>
</head>

<body>
  {% include 'public_navbar.html' %}

  <main>
    <!-- ========= All Articles Section ========= -->
    <section id="all_articles" class="all_articles">
      <div class="container">
        <div class="section-title" data-aos="zoom-out">
          <br><br>
          <h2>All Journals</h2>
          <p>Articles</p>
        </div>
        <ul class="chapter-list">
          {% for article in articles_list %}
          <li class="chapter-item">
            <div class="chapter-info">
              <div class="chapter-title">{{ article.title }}</div>
              <div class="chapter-authors">{{ article.authors }}</div>
            </div>
            <div class="chapter-status">
              <div class="btn-group">
                <a href="/d_flipbook/{{ article.id }}/" class="btn btn-primary">Read</a>
                <a href="/download_article/{{ article.id }}/" class="btn btn-secondary">Download</a>
              </div>
              <div class="stats">
                <i class="bi bi-eye"></i> {{ article.visit_count }}
                <i class="bi bi-download" style="margin-left: 15px;"></i> {{ article.download_count }}
              </div>
            </div>
          </li>                   
          {% endfor %}
        </ul>
      </div>
    </section>
    <!-- ========= All Articles Section End ========= -->
  </main>

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="container">
      <h3>CU JOURNAL HUB</h3>
      <p>"Empowering discovery and shaping tomorrow through cutting-edge research."</p>
      <div class="social-links">
        <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
        <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
        <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
        <a href="#" class="google-plus"><i class="bx bxl-skype"></i></a>
        <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
      </div>
      <div class="copyright">
        &copy; Copyright <strong><span>CU JOURNAL HUB</span></strong>. All Rights Reserved
      </div>
    </div>
  </footer>
  <!-- End Footer -->

  <!-- Vendor JS Files -->
  <script src="{% static 'vendor/aos/aos.js' %}"></script>
  <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'vendor/glightbox/js/glightbox.min.js' %}"></script>
  <script src="{% static 'vendor/isotope-layout/isotope.pkgd.min.js' %}"></script>
  <script src="{% static 'vendor/swiper/swiper-bundle.min.js' %}"></script>
  <script src="{% static 'vendor/php-email-form/validate.js' %}"></script>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const params = new URLSearchParams(window.location.search);
      const query = params.get('q');
      const index = params.get('index');
      if (query && index) {
        const sanitizedQuery = query.replace(/</g, "&lt;").replace(/>/g, "&gt;");

        document.body.innerHTML = document.body.innerHTML.replace(new RegExp(`(${sanitizedQuery})`, 'gi'), '<span class="highlight">$1</span>');
      }
    });
  </script>

  <!-- Template Main JS File -->
  <script src="{% static 'js/main.js' %}"></script>

</body>

</html>
