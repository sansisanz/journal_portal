{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Journal Page - CUJH</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="{% static 'img/favicon.png' %}" rel="icon">
  <link href="{% static 'img/apple-touch-icon.png' %}" rel="apple-touch-icon">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.0.1/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">


  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{% static 'vendor/animate.css/animate.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/aos/aos.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/remixicon/remixicon.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="{% static 'css/public-style.css' %}" rel="stylesheet">

  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #f0f0f0;
    }
    .manga-container {
      width: 90vw;
      height: 90vh;
      display: flex;
      perspective: 1000px;
      position: relative;
    }
    .manga-page {
      width: 50%;
      height: 100%;
      position: absolute;
      transition: transform 0.5s ease;
      backface-visibility: hidden;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    }
    .manga-page.left {
      left: 0;
  }
    .manga-page.right {
      right: 0;
      transform: rotateY(180deg);
    }
  </style>


</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top d-flex align-items-center ">
    <div class="container d-flex align-items-center justify-content-between">

      <div class="logo">
        <h1><a href="/p_index/">CU JOURNAL HUB</a></h1>
        <!-- Uncomment below if you prefer to use an image logo -->
        <a href="#home"><img src="{% static 'img/logo.png' %}" alt="" class="img-fluid"></a>
      </div>

      <nav id="navbar" class="navbar">
        <ul>  
          <li>
            <form action="" class="search-bar">
              <input type="search" name="search" pattern=".*\S.*" required>
              <button class="search-btn" type="submit">
                <span>Search</span>
              </button>
            </form>
          </li>
          <li><a class="nav-link scrollto " href="/p_j/">Home</a></li>
          <li class="dropdown"><a href="#"><span>Sign In</span> <i class="bi bi-chevron-down"></i></a>
            <ul>
              <li><a href="#">Author</a></li>
              <!-- <li class="dropdown"><a href="#"><span>Deep Drop Down</span> <i class="bi bi-chevron-right"></i></a>
                <ul>
                  <li><a href="#">Deep Drop Down 1</a></li>
                  <li><a href="#">Deep Drop Down 2</a></li>
                  <li><a href="#">Deep Drop Down 3</a></li>
                  <li><a href="#">Deep Drop Down 4</a></li>
                  <li><a href="#">Deep Drop Down 5</a></li>
                </ul>
              </li> -->
              <li><a href="/p_index/#pricing">User</a></li>
              <!-- <li><a href="#">Drop Down 3</a></li>
              <li><a href="#">Drop Down 4</a></li> -->
            </ul>
          </li>
          <!-- <li><a class="nav-link scrollto" href="index.html#pricing">Subscription</a></li> -->
          <li><a class="nav-link scrollto" href="#contact">Contact</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <!-- <section class="breadcrumbs">
      <div class="container">

        <div class="d-flex justify-content-between align-items-center">
          <h2>Journals</h2>
          <ol>
            <li><a href="index.html">Home</a></li>
            <li>Journals</li>
          </ol>
        </div>

      </div> -->
      
    <!-- </section>   End Breadcrumbs -->

    <section class="inner-page">
      <div class="container">    
         
        <!-- home section start  -->

                <!-- search bar -->
                <!-- <section id="search_bar">
                <div class="col-md-8">

                  <div class="search">
                    <i class="fa fa-search"></i>
                    <input type="text" class="form-control" placeholder="SEARCH JOURNALS, ARTICLES, AUTHORS,...">
                    <button class="btn btn-primary">Search</button>
                  </div>
                  
                </div> <br>
              </section> -->
            <!-- searh bar end -->
      
    </div>
      <!-- header for journal -->

      <section id="cta" class="cta">
        <div class="container">  <div class="row">
          <div class="col-sm-4">  <img src="{% static 'img/book_cover.jpeg' %}" alt="Journal Cover Image" style="width: 100%; height: auto;">  </div>
          <div class="col-sm-8">
            <h1 class="j_menu_h1">**Journal Name**</h1>  <h4 class="j_menu_h4">Department</h4>
            <br><br>
            <nav class="journal-menu">
              <ul>                
                <li><a href="/p_j/#aim&scope">Aim & Scopes</a></li>
                <li><a href="/p_j/#editorialboard">Editorial Board</a></li>
                <li><a href="/p_j/#submitarticle">Submit Article</a></li>
                <li><a href="/p_j/#journalupdates">Journal Updates</a></li>
                 <li><a href="/p_guidelines/">Submission Guidelines</a></li>
                <li><a href="/p_ethics/">Ethics & Disclosure</a></li>
                <li><a href="/p_alljournals/">All Journals</a></li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
      </section>
      
      <!-- end of journal header -->

    </section>
    

  </section>


  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div id="manga-container">
      <div id="top-bar">
        <div id="pdf-info"></div>
        <div class="controls">
          <button id="download-btn" title="Download"><i class="fas fa-download"></i></button>
          <button id="zoom-in-btn" title="Zoom In"><i class="fas fa-search-plus"></i></button>
          <button id="zoom-out-btn" title="Zoom Out"><i class="fas fa-search-minus"></i></button>
          <button id="fullscreen-btn" title="Full Screen"><i class="fas fa-expand"></i></button>
        </div>
      </div>
      <div id="manga-canvas-container">
        <canvas id="manga-page"></canvas>
      </div>
      <div id="page-slider-container">
        <input type="range" min="1" id="page-slider">
        <span id="page-slider-text">1/1</span>
      </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.12.313/pdf.min.js"></script>
    <script>
      const pdfUrl = 'p.pdf'; // Replace with your PDF URL or path
      pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.12.313/pdf.worker.min.js';
    
      const canvas = document.getElementById('manga-page');
      const ctx = canvas.getContext('2d');
    
      let currentPage = 1;
      let totalPages = 0;
      let currentScale = 1.0;
    
      function renderPage(pageNumber) {
        pdfjsLib.getDocument(pdfUrl).promise.then(function(pdf) {
          totalPages = pdf.numPages;
          pdf.getPage(pageNumber).then(function(page) {
            const viewport = page.getViewport({ scale: currentScale });
            canvas.height = viewport.height;
            canvas.width = viewport.width;
    
            const renderContext = {
              canvasContext: ctx,
              viewport: viewport
            };
    
            page.render(renderContext);
            updatePageSlider();
          });
        });
      }
    
      // Render initial page
      renderPage(currentPage);
    
      // Update page slider
      function updatePageSlider() {
        const pageSlider = document.getElementById('page-slider');
        pageSlider.max = totalPages;
        pageSlider.value = currentPage;
        document.getElementById('page-slider-text').textContent = currentPage + '/' + totalPages;
      }
    
      // Event listeners for navigation
      document.addEventListener('keydown', function(event) {
        if (event.key === 'ArrowLeft') {
          if (currentPage > 1) {
            currentPage--;
            flipPage('prev');
          }
        } else if (event.key === 'ArrowRight') {
          if (currentPage < totalPages) {
            currentPage++;
            flipPage('next');
          }
        }
      });
    
      // Function to animate page flip
      function flipPage(direction) {
        const mangaPage = document.getElementById('manga-page');
        mangaPage.style.transform = direction === 'prev' ? 'rotateY(180deg)' : 'rotateY(-180deg)';
    
        // Wait for the animation to finish before rendering the next page
        setTimeout(function() {
          renderPage(currentPage);
          mangaPage.style.transform = 'rotateY(0deg)';
        }, 500); // Adjust the duration to match the transition duration in CSS
      }
    
      // Event listener for page slider
      const pageSlider = document.getElementById('page-slider');
      pageSlider.addEventListener('input', function(event) {
        currentPage = parseInt(event.target.value);
        renderPage(currentPage);
      });
    
      // Functionality for download button
      const downloadBtn = document.getElementById('download-btn');
      downloadBtn.addEventListener('click', function() {
        const link = document.createElement('a');
        link.href = pdfUrl;
        link.download = 'manga.pdf';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      });
    
      // Functionality for zoom in button
      const zoomInBtn = document.getElementById('zoom-in-btn');
      zoomInBtn.addEventListener('click', function() {
        // Zoom in functionality
        zoom(1.1);
      });
    
      // Functionality for zoom out button
      const zoomOutBtn = document.getElementById('zoom-out-btn');
      zoomOutBtn.addEventListener('click', function() {
        // Zoom out functionality
        zoom(0.9);
      });
    
      // Function to handle zooming
      function zoom(scale) {
        currentScale *= scale;
        renderPage(currentPage);
      }
    
      // Functionality for fullscreen button
      const fullscreenBtn = document.getElementById('fullscreen-btn');
      fullscreenBtn.addEventListener('click', function() {
        toggleFullscreen();
      });
    
      // Function to toggle full-screen mode
      function toggleFullscreen() {
        const mangaContainer = document.getElementById('manga-container');
        if (!document.fullscreenElement) {
          mangaContainer.requestFullscreen();
        } else {
          if (document.exitFullscreen) {
            document.exitFullscreen();
          }
        }
      }
    
    </script>
    
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="{% static 'vendor/aos/aos.js' %}"></script>
  <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'vendor/glightbox/js/glightbox.min.js' %}"></script>
  <script src="{% static 'vendor/isotope-layout/isotope.pkgd.min.js' %}"></script>
  <script src="{% static 'vendor/swiper/swiper-bundle.min.js' %}"></script>
  <script src="{% static 'vendor/php-email-form/validate.js' %}"></script>

  <!-- Template Main JS File -->
  <script src="{% static 'js/main.js' %}"></script>

</body>

</html>